// info.js
// 该文件专门用于存放脚本的静态信息，如版本号、更新日志和使用说明。

var scriptInfo = {
    version: "18.2.0",

    changelog: `
 变更日志 (版本 v18.2.0 - 修复与增强版)

 一、关键修复与增强

此版本在 v18.0.0 的基础上，修复了若干严重BUG，并对核心功能进行了重构和增强，以提供更稳定、更强大的用户体验。

1.  [重构] 多批次工作流逻辑:
       废除了原有的 \`切换到下一批次\` 步骤，因为它会导致逻辑混乱且容易误用。
       引入了全新的 \`---批次分割线---\` 概念。用户现在可以在工作流编辑器中添加此分割线，用于清晰地区分第一批次和第二批次的操作流程。
       后台引擎会自动解析此分割线，并在批次间执行切换动作，无需用户在流程中手动干预，从根本上解决了流程执行错误的问题。

2.  [修复] 核心功能BUG:
       修复了当启用多批次处理时，由于后台脚本未能正确加载和访问“切换批次”坐标而导致的脚本崩溃问题。

3.  [修复] UI显示错误:
       修复了在“延迟设置”界面中，“跳转MT前延迟”的数值加载错误，导致其总是显示为另一个延迟项的值的问题。

 二、UI/UX 全面升级

1.  [重构] 整体布局: 界面已全面切换为“卡片式”布局，增强了视觉组织性和清晰度，所有功能模块均被包裹在独立的卡片中。

2.  [重构] 工作流模块 (\`工作流\` 页面):
       废除了旧的横向滑动步骤选择器。
       新增“工作流方案管理”系统，支持用户自定义和保存三套独立的工作流方案。
       提供了“编辑当前方案”功能，通过专用弹窗编辑器对工作流进行增、删、改。
       [新增] 在编辑器中新增 \`---批次分割线---\` 特殊步骤，用于定义不同批次的工作流。
       实现了工作流方案的持久化存储，关闭脚本后配置不会丢失。

 三、核心功能增强

1.  [新增] 多批次处理功能 (\`序号配置\` 页面):
       新增“第二批次 (可选)”配置区，允许用户输入第二批次的PS和MT序号。
       用户可通过开关 (\`启用第二批次处理\`) 决定是否执行后续批次任务。

2.  [重构] 工作流步骤调整:
       移除了 \`切换到下一批次\` 这一操作步骤。
       引入了 \`---批次分割线---\` 作为逻辑分隔符。它本身不执行任何操作，仅用于告诉引擎如何为两个批次分配不同的工作流程。

 四、后端与逻辑优化

1.  [重构] 任务执行引擎 (\`worker.js\`):
       后台任务执行逻辑已重构为“工作流驱动引擎”。
       引擎现在完全根据UI层面传入的、当前激活的工作流方案数组来执行任务，极大提高了灵活性和可扩展性。

2.  [优化] 多批次处理实现:
       执行引擎现在会智能解析工作流中的 \`---批次分割线---\`。它会自动在第一批次完成后、第二批次开始前执行切换文件夹的操作，使得整个流程更加健just自动化。
       处理参数的函数现在能够智能识别当前处理的批次，并调用对应的数据。

3.  [增强] 验证逻辑:
       \`validateAllInputs\`函数已更新，现在会根据“第二批次”开关的状态，对其相关的输入进行有效性验证。

4.  [增强] 数据持久化:
       \`configStorage\`现在用于存储三套自定义工作流方案及当前激活的方案索引。

 五、技术规范

1.  [合规] 所有新增及修改的代码均遵循 ES5 规范，确保在旧版Auto.js环境中的兼容性和稳定性。
`,

    userManual: `
 联动自动贴图 使用说明

 一、基本流程

1.  主要参数: 在“主要参数”页面，根据你的需求填写想要修改的宽高、XY坐标等，并打开右侧对应的开关。
2.  序号配置: 在“序号配置”页面，填写你要处理的PS项目序号和对应的MT素材序号，确保两者数量一致。
3.  工作流: 在“工作流”页面，选择一个默认方案，或者点击“编辑当前方案”来自定义你的操作流程。
4.  启动: 配置无误后，返回主界面，双击“保存配置并启动任务”按钮开始执行。

---

 二、多批次高级用法

本脚本支持处理两个批次（例如，两个不同的文件夹）。

1.  启用第二批次:
       在“序号配置”页面，打开“第二批次 (可选)”的开关。
       填写第二批次的PS和MT序号。

2.  定义不同流程 (核心):
       进入“工作流”页面，编辑你的工作流方案。
       在流程中插入一个特殊的步骤：\`---批次分割线---\`。
       分割线之前的步骤，将用于处理第一批次。
       分割线之后的步骤，将用于处理第二批次。
       如果工作流中没有分割线，则两个批次将使用完全相同的一套流程。

3.  只处理第一批次:
       如果你某次只想处理第一批次，无需修改工作流。
       只需在“序号配置”页面，关闭“第二批次 (可选)”的开关即可。

---

 三、核心概念

   工作流: 脚本不再是固定的“加载->输入->保存”流程，而是完全由你在工作流页面定义的步骤顺序来执行，非常灵活。
   批次分割线: 它是区分两个批次流程的“书签”，本身不执行任何点击操作。切换文件夹的动作是由脚本在两个批次之间自动完成的。
   自定义坐标/延迟: 在“系统设置”页面，你可以展开并进入“坐标设置”和“延迟设置”，对脚本的所有点击位置和等待时间进行精细调整，以适应不同分辨率和性能的设备。

---

 四、注意事项

   序号数量必须一致: 无论是第几批次，PS序号和MT序号的数量都必须严格相等。
   坐标校准: 首次使用或更换设备后，如果出现点击位置不准，请务必进入“系统设置 -> 坐标设置”进行校准。
   双击启动: 所有启动按钮都需要快速双击才能触发，以防误触。
`
};

// 将信息对象导出，以便其他脚本可以引用
module.exports = scriptInfo;